package senet;

import interfaceGrafica.Constante;

public class ConfiguracaoTabuleiro {

	protected String[] conteudoCasas; // TODO - verificar se String é o mais apropriado
	protected boolean[] gravetosRiscados;
	protected String corPeaoJogador;
	protected String corPeaoAdversario;
	protected int qtdPeoesJogadorLiberados;
	protected int qtdPeoesAdversarioLiberados;
	protected int numeroCasaPeaoLiberacao;
	protected int pontuacao;
	protected String nomeJogadorDaVez;
	
	public ConfiguracaoTabuleiro() {
		conteudoCasas = new String[30];
		gravetosRiscados = new boolean[5];
		zerarConfiguracao();
	}
	
	public void zerarConfiguracao() {
		alterarConteudoCasas(null);
		alterarGravetosRiscados(null);
		alterarCorPeaoJogador(null);
		alterarCorPeaoAdversario();
		alterarQtdPeoesJogadorLiberados();
		alterarQtdPeoesAdversarioLiberados();
		alterarNumeroCasaPeaoLiberacao(0);
		alterarPontuacao(0);
		alterarNomeJogadorDaVez("");
	}
	
	public void alterarConteudoCasas(Casa[] casas) {
		for (int i = 0; i < 30 ; i++)
			conteudoCasas[i] = Constante.CASA_VAZIA;
		
		if (casas == null)
			return;
		
		for (int i = 0; i < 30 ; i++)
			if (casas[i].obterOcupada())
				conteudoCasas[i] = casas[i].obterCorPeaoOcupante();
	}

	public void alterarCorPeaoJogador(String corPeaoJogador) {
		this.corPeaoJogador = corPeaoJogador;
	}
	
	public void alterarCorPeaoAdversario() {
		if (corPeaoJogador == null) {
			corPeaoAdversario = null;
			return;
		}			
		
		if (corPeaoJogador.equals(Constante.PEAO_CLARO))
			corPeaoAdversario = Constante.PEAO_ESCURO;
		else
			corPeaoAdversario = Constante.PEAO_CLARO;
	}

	public void alterarQtdPeoesJogadorLiberados() {		
		qtdPeoesJogadorLiberados = 0;
		
		if (corPeaoJogador == null)
			return;
		
		int qtdPeoesTabuleiro = 0;
		
		for (int i = 0; i < 30 ; i++)
			if (conteudoCasas[i].equals(corPeaoJogador))
				qtdPeoesTabuleiro++;
		
		qtdPeoesJogadorLiberados = 14 - qtdPeoesTabuleiro;
	}

	public void alterarQtdPeoesAdversarioLiberados() {
		qtdPeoesAdversarioLiberados = 0;
		
		if (corPeaoAdversario == null)
			return;
		
		int qtdPeoesTabuleiro = 0;
		
		for (int i = 0; i < 30 ; i++)
			if (conteudoCasas[i].equals(corPeaoAdversario))
				qtdPeoesTabuleiro++;
		
		qtdPeoesAdversarioLiberados = 14 - qtdPeoesTabuleiro;
	}

	public void alterarNumeroCasaPeaoLiberacao(int numeroCasaPeaoLiberacao) {
		this.numeroCasaPeaoLiberacao = numeroCasaPeaoLiberacao;
	}

	/**
	 * 
	 * @param pontuacao
	 */
	public void alterarPontuacao(int pontuacao) {
		this.pontuacao = pontuacao;
	}

	// TODO - padronizar metodos alterar
	public void alterarNomeJogadorDaVez(String nomeJogadorDaVez) {
		this.nomeJogadorDaVez = nomeJogadorDaVez;
	}

	public String[] obterConteudoCasas() {
		return conteudoCasas;
	}

	public String obterCorPeaoJogador() {
		return corPeaoJogador;
	}
	
	public String obterCorPeaoAdversario() {
		return corPeaoAdversario;
	}

	public int obterQtdPeoesJogadorLiberados() {
		return qtdPeoesJogadorLiberados;
	}

	public int obterQtdPeoesAdversarioLiberados() {
		return qtdPeoesAdversarioLiberados;
	}

	public int obterNumeroCasaPeaoLiberacao() {
		return numeroCasaPeaoLiberacao;
	}

	public int obterPontuacao() {
		return pontuacao;
	}

	public String obterNomeJogadorDaVez() {
		return nomeJogadorDaVez;
	}
	
	public boolean[] obterGravetosRiscados() {
		return gravetosRiscados;	
	}

	public void alterarGravetosRiscados(Graveto[] gravetos) {
		/*for (boolean graveto : gravetosRiscados)
			graveto = false;*/
		
		if (gravetos == null)
			return;
		
		for (int i = 0; i < 5; i++)
			gravetosRiscados[i] = gravetos[i].obterRiscado();
	}

	public void alterarCorPeaoAdversario(String corPeaoAdversario) {
		this.corPeaoAdversario = corPeaoAdversario;
	}
}